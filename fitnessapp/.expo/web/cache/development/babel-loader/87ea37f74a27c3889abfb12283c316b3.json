{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { Auth } from \"aws-amplify\";\nimport { User } from \"../../models\";\nimport { DataStore } from '@aws-amplify/datastore';\nimport _ from \"lodash\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport CustomInput from \"../../componets/CustomInput\";\nimport CustomButton from \"../../componets/CustomButton\";\nimport RnIncrementDecrementBtn from 'react-native-increment-decrement-button';\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nvar UserProfileScreen = function UserProfileScreen() {\n  var navigation = useNavigation();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      loaded = _useState2[0],\n      setLoaded = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      height = _useState4[0],\n      setHeight = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      weight = _useState6[0],\n      setWeight = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      gender = _useState8[0],\n      setGender = _useState8[1];\n\n  var _useState9 = useState(''),\n      _useState10 = _slicedToArray(_useState9, 2),\n      numberofexe = _useState10[0],\n      setNumberOfExe = _useState10[1];\n\n  var currUser;\n  var username_;\n  var height_;\n  var weight_;\n  var gender_;\n  var numEx;\n\n  var loadData = function loadData() {\n    return _regeneratorRuntime.async(function loadData$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            console.log(Auth.Credentials.Auth.user.username);\n            username_ = Auth.Credentials.Auth.user.username;\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(DataStore.query(User, function (u) {\n              return u.username(\"eq\", username_);\n            }));\n\n          case 4:\n            currUser = _context.sent;\n            console.log(currUser);\n            height_ = currUser.height;\n            weight_ = currUser.weight;\n            gender_ = currUser.gender;\n            numEx = currUser.numberOfPreferedExercises;\n            setLoaded(true);\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  loadData();\n\n  var saveChanges = function saveChanges() {\n    return _regeneratorRuntime.async(function saveChanges$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(DataStore.save(User.copyOf(currUser[0], function (updated) {\n              updated.height = height;\n              updated.weight = weight;\n              updated.gender = gender;\n              updated.numberOfPreferedExercises = numberofexe;\n            })));\n\n          case 2:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var signOut = function signOut() {\n    Auth.signOut();\n  };\n\n  var GoToHomePage = function GoToHomePage() {\n    setLoaded(false);\n    navigation.navigate('Home');\n  };\n\n  if (loaded == true) {\n    return _jsx(ScrollView, {\n      showsVerticalScrollIndicator: false,\n      children: _jsxs(View, {\n        style: styles.root,\n        children: [_jsxs(Text, {\n          style: [styles.title],\n          children: [username_, \"'s Profile\"]\n        }), _jsx(Text, {\n          style: [styles.text],\n          children: \"Height (cm)\"\n        }), _jsx(CustomInput, {\n          placeholder: height_,\n          value: height,\n          setValue: setHeight\n        }), _jsx(Text, {\n          style: [styles.text],\n          children: \"Weight (lb)\"\n        }), _jsx(CustomInput, {\n          placeholder: weight_,\n          value: weight,\n          setValue: setWeight\n        }), _jsx(Text, {\n          style: [styles.text],\n          children: \"Gender\"\n        }), _jsx(CustomInput, {\n          placeholder: gender_,\n          value: gender,\n          setValue: setGender\n        }), _jsx(Text, {\n          style: [styles.text],\n          children: \"Number of exercises per day\"\n        }), _jsx(CustomInput, {\n          placeholder: numEx,\n          value: numberofexe,\n          setValue: setNumberOfExe\n        }), _jsx(CustomButton, {\n          onPress: saveChanges,\n          text: \"Save changes to profile\"\n        }), _jsx(CustomButton, {\n          onPress: GoToHomePage,\n          text: \"Go To Homepage\"\n        }), _jsx(CustomButton, {\n          onPress: signOut,\n          text: \"Sign Out\",\n          bgColor: \"#E3242B\"\n        })]\n      })\n    });\n  }\n\n  return _jsx(View, {\n    children: _jsx(Text, {\n      children: \"Loading...\"\n    })\n  });\n};\n\nvar styles = StyleSheet.create({\n  root: {\n    alignItems: 'center',\n    padding: 20\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: '#051C60',\n    margin: 10\n  },\n  text: {\n    fontSize: 14,\n    color: 'gray',\n    marginVertical: 10,\n    fontWeight: 'bold'\n  }\n});\nexport default UserProfileScreen;","map":{"version":3,"sources":["C:/Users/spart/Desktop/Capstone/NewApp/React App/fitnessapp/src/screens/UserProfileScreen/UserProfileScreen.js"],"names":["React","useState","useEffect","Auth","User","DataStore","_","useNavigation","CustomInput","CustomButton","RnIncrementDecrementBtn","UserProfileScreen","navigation","loaded","setLoaded","height","setHeight","weight","setWeight","gender","setGender","numberofexe","setNumberOfExe","currUser","username_","height_","weight_","gender_","numEx","loadData","console","log","Credentials","user","username","query","u","numberOfPreferedExercises","saveChanges","save","copyOf","updated","signOut","GoToHomePage","navigate","styles","root","title","text","StyleSheet","create","alignItems","padding","fontSize","fontWeight","color","margin","marginVertical"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from \"react\";\r\nimport {View, Text, TouchableOpacity, Alert, ActivityIndicator, StyleSheet, ScrollView} from 'react-native'\r\nimport {Auth} from \"aws-amplify\"\r\nimport {User} from '../../models';\r\nimport { DataStore } from '@aws-amplify/datastore';\r\n\r\nimport _ from \"lodash\"\r\n\r\nimport { useNavigation } from \"@react-navigation/native\";\r\nimport CustomInput from \"../../componets/CustomInput\";\r\nimport CustomButton from \"../../componets/CustomButton\";\r\nimport RnIncrementDecrementBtn  from 'react-native-increment-decrement-button';\r\n\r\n\r\n\r\nconst UserProfileScreen = () => {\r\n    const navigation = useNavigation();\r\n    const [loaded, setLoaded] = useState(false)\r\n\r\n    const [height, setHeight] = useState('');\r\n    const [weight, setWeight] = useState('');\r\n    const [gender, setGender] = useState('');\r\n    const [numberofexe, setNumberOfExe] = useState('');\r\n    //create user object and load data\r\n    let currUser;\r\n    let username_;\r\n    let height_ ;\r\n    let weight_ ;\r\n    let gender_; \r\n    let numEx;\r\n    const loadData = async ()=> {  \r\n\r\n    console.log(Auth.Credentials.Auth.user.username);\r\n    username_ = Auth.Credentials.Auth.user.username;\r\n\r\n    currUser = await DataStore.query(User,  u => u.username(\"eq\", username_)); \r\n    console.log(currUser)\r\n    height_ = currUser.height\r\n    weight_ = currUser.weight\r\n    gender_ = currUser.gender\r\n    numEx = currUser.numberOfPreferedExercises\r\n    setLoaded(true)\r\n    };\r\n\r\n    loadData();\r\n\r\n\r\n    //Makes copies of user input and update account\r\n    const saveChanges = async ()=> {\r\n\r\n\r\n        await DataStore.save(\r\n            User.copyOf(currUser[0], updated => {\r\n            updated.height = height;\r\n            updated.weight = weight;\r\n            updated.gender = gender;\r\n            updated.numberOfPreferedExercises = numberofexe;\r\n\r\n            })\r\n        );\r\n    };\r\n\r\n    const signOut = ()=> {\r\n        Auth.signOut()\r\n\r\n    }\r\n    const GoToHomePage =  ()=> {\r\n        setLoaded(false)\r\n        navigation.navigate('Home');\r\n    }\r\n    if (loaded == true) {\r\n        return(\r\n            <ScrollView showsVerticalScrollIndicator={false}>\r\n            <View style={styles.root}>\r\n    \r\n                <Text style={[styles.title]}>{username_}'s Profile</Text>\r\n    \r\n                <Text style={[styles.text]}>Height (cm)</Text>\r\n                <CustomInput placeholder={height_} value={height} setValue={setHeight}/>\r\n    \r\n                <Text style={[styles.text]}>Weight (lb)</Text>\r\n                <CustomInput placeholder={weight_} value={weight} setValue={setWeight}/>\r\n    \r\n                <Text style={[styles.text]}>Gender</Text>\r\n                <CustomInput placeholder={gender_} value={gender} setValue={setGender}/>\r\n    \r\n                <Text style={[styles.text]}>Number of exercises per day</Text>\r\n                <CustomInput placeholder={numEx} value={numberofexe} setValue={setNumberOfExe}/>\r\n                \r\n                <CustomButton onPress={saveChanges} text=\"Save changes to profile\" />\r\n                <CustomButton onPress={GoToHomePage} text=\"Go To Homepage\" />\r\n                <CustomButton onPress={signOut} text=\"Sign Out\" bgColor=\"#E3242B\"/>\r\n    \r\n            </View>\r\n            </ScrollView>\r\n        )\r\n    }\r\n    return (\r\n        <View>\r\n            <Text>Loading...</Text>\r\n        </View>\r\n    )\r\n\r\n};\r\n\r\n\r\nconst styles = StyleSheet.create({\r\n    root:{\r\n        alignItems: 'center',\r\n        padding:20,\r\n    },\r\n    title: {\r\n        fontSize:24,\r\n        fontWeight:'bold',\r\n        color:'#051C60',\r\n        margin:10,\r\n    },\r\n    text:{\r\n        fontSize:14,\r\n        color:'gray',\r\n        marginVertical:10,\r\n        fontWeight:'bold',\r\n    },\r\n})\r\n\r\nexport default UserProfileScreen;"]},"metadata":{},"sourceType":"module"}