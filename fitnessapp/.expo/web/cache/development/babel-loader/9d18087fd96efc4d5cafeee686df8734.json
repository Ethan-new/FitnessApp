{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { Auth } from \"aws-amplify\";\nimport { User } from \"../../models\";\nimport { DataStore } from '@aws-amplify/datastore';\nimport _ from \"lodash\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport CustomInput from \"../../componets/CustomInput\";\nimport CustomButton from \"../../componets/CustomButton\";\nimport RnIncrementDecrementBtn from 'react-native-increment-decrement-button';\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nvar UserProfileScreen = function UserProfileScreen() {\n  var navigation = useNavigation();\n  var currUser;\n\n  var loadData = function loadData() {\n    var username_, height_, weight_, gender_, numEx;\n    return _regeneratorRuntime.async(function loadData$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            console.log(Auth.Credentials.Auth.user.username);\n            username_ = Auth.Credentials.Auth.user.username;\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(DataStore.query(User, function (u) {\n              return u.username(\"eq\", username);\n            }));\n\n          case 4:\n            currUser = _context.sent;\n            _context.next = 7;\n            return _regeneratorRuntime.awrap(DataStore.query(User, function (u) {\n              return u.height;\n            }));\n\n          case 7:\n            height_ = _context.sent;\n            _context.next = 10;\n            return _regeneratorRuntime.awrap(DataStore.query(User, function (u) {\n              return u.weight;\n            }));\n\n          case 10:\n            weight_ = _context.sent;\n            _context.next = 13;\n            return _regeneratorRuntime.awrap(DataStore.query(User, function (u) {\n              return u.gender;\n            }));\n\n          case 13:\n            gender_ = _context.sent;\n            _context.next = 16;\n            return _regeneratorRuntime.awrap(DataStore.query(User, function (u) {\n              return u.numberOfPreferedExercises;\n            }));\n\n          case 16:\n            numEx = _context.sent;\n\n          case 17:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  loadData();\n\n  var saveChanges = function saveChanges() {\n    var heightCopy, weightCopy, genCopy, numExCopy;\n    return _regeneratorRuntime.async(function saveChanges$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            heightCopy = _.cloneDeep(height_);\n            weightCopy = _.cloneDeep(weight_);\n            genCopy = _.cloneDeep(gender_);\n            numExCopy = _.cloneDeep(numEx);\n            _context2.next = 6;\n            return _regeneratorRuntime.awrap(DataStore.save(User.copyOf(user, function (updated) {\n              updated.height = heightCopy;\n              updated.weight = weightCopy;\n              updated.gender = genCopy;\n              updated.numberOfPreferedExercises = numExCopy;\n            })));\n\n          case 6:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var signOut = function signOut() {\n    Auth.signOut();\n  };\n\n  var GoToHomePage = function GoToHomePage() {\n    setLoaded(false);\n    navigation.navigate('Home');\n  };\n\n  return _jsx(ScrollView, {\n    showsVerticalScrollIndicator: false,\n    children: _jsxs(View, {\n      style: styles.root,\n      children: [_jsxs(Text, {\n        style: [styles.title],\n        children: [username_, \"'s Profile\"]\n      }), _jsx(Text, {\n        style: [styles.text],\n        children: \"Height (cm)\"\n      }), _jsx(CustomInput, {\n        placeholder: height_,\n        value: height_,\n        setValue: saveChanges\n      }), _jsx(Text, {\n        style: [styles.text],\n        children: \"Weight (lb)\"\n      }), _jsx(CustomInput, {\n        placeholder: weight_,\n        value: weight_,\n        setValue: saveChanges\n      }), _jsx(Text, {\n        style: [styles.text],\n        children: \"Gender\"\n      }), _jsx(CustomInput, {\n        placeholder: gender_,\n        value: gender_,\n        setValue: saveChanges\n      }), _jsx(Text, {\n        style: [styles.text],\n        children: \"Number of exercises per day\"\n      }), _jsx(CustomInput, {\n        placeholder: numEx,\n        value: numEx,\n        setValue: saveChanges\n      }), _jsx(CustomButton, {\n        onPress: saveChanges,\n        text: \"Save changes to profile\"\n      }), _jsx(CustomButton, {\n        onPress: GoToHomePage,\n        text: \"Go To Homepage\"\n      }), _jsx(CustomButton, {\n        onPress: signOut,\n        text: \"Sign Out\",\n        bgColor: \"#E3242B\"\n      })]\n    })\n  });\n};\n\nvar styles = StyleSheet.create({\n  root: {\n    alignItems: 'center',\n    padding: 20\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: '#051C60',\n    margin: 10\n  },\n  text: {\n    fontSize: 14,\n    color: 'gray',\n    marginVertical: 10,\n    fontWeight: 'bold'\n  }\n});\nexport default UserProfileScreen;","map":{"version":3,"sources":["C:/Users/spart/Desktop/Capstone/NewApp/React App/fitnessapp/src/screens/UserProfileScreen/UserProfileScreen.js"],"names":["React","useState","useEffect","Auth","User","DataStore","_","useNavigation","CustomInput","CustomButton","RnIncrementDecrementBtn","UserProfileScreen","navigation","currUser","loadData","console","log","Credentials","user","username","username_","query","u","height","height_","weight","weight_","gender","gender_","numberOfPreferedExercises","numEx","saveChanges","heightCopy","cloneDeep","weightCopy","genCopy","numExCopy","save","copyOf","updated","signOut","GoToHomePage","setLoaded","navigate","styles","root","title","text","StyleSheet","create","alignItems","padding","fontSize","fontWeight","color","margin","marginVertical"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from \"react\";\r\nimport {View, Text, TouchableOpacity, Alert, ActivityIndicator, StyleSheet} from 'react-native'\r\nimport {Auth} from \"aws-amplify\"\r\nimport {User} from '../../models';\r\nimport { DataStore } from '@aws-amplify/datastore';\r\n\r\nimport _ from \"lodash\"\r\n\r\nimport { useNavigation } from \"@react-navigation/native\";\r\nimport CustomInput from \"../../componets/CustomInput\";\r\nimport CustomButton from \"../../componets/CustomButton\";\r\nimport RnIncrementDecrementBtn  from 'react-native-increment-decrement-button';\r\n\r\nconst UserProfileScreen = () => {\r\n    const navigation = useNavigation();\r\n    \r\n\r\n    //create user object and load data\r\n    let currUser;\r\n    const loadData = async ()=> {  \r\n\r\n    console.log(Auth.Credentials.Auth.user.username);\r\n    const username_ = Auth.Credentials.Auth.user.username;\r\n    currUser = await DataStore.query(User,  u => u.username(\"eq\", username)); \r\n    const height_ = await DataStore.query(User, u => u.height);\r\n    const weight_ = await DataStore.query(User, u => u.weight);\r\n    const gender_ = await DataStore.query(User, u => u.gender);\r\n    const numEx = await DataStore.query(User, u => u.numberOfPreferedExercises);\r\n    };\r\n\r\n    loadData();\r\n\r\n\r\n    //Makes copies of user input and update account\r\n    const saveChanges = async ()=> {\r\n        const heightCopy = _.cloneDeep(height_);\r\n        const weightCopy = _.cloneDeep(weight_);\r\n        const genCopy = _.cloneDeep(gender_); \r\n        const numExCopy = _.cloneDeep(numEx);\r\n\r\n        await DataStore.save(\r\n            User.copyOf(user, updated => {\r\n            updated.height = heightCopy;\r\n            updated.weight = weightCopy;\r\n            updated.gender = genCopy;\r\n            updated.numberOfPreferedExercises = numExCopy;\r\n\r\n            })\r\n        );\r\n    };\r\n\r\n    const signOut = ()=> {\r\n        Auth.signOut()\r\n\r\n    }\r\n    const GoToHomePage =  ()=> {\r\n        setLoaded(false)\r\n        navigation.navigate('Home');\r\n    }\r\n    return (\r\n        <ScrollView showsVerticalScrollIndicator={false}>\r\n        <View style={styles.root}>\r\n\r\n            <Text style={[styles.title]}>{username_}'s Profile</Text>\r\n\r\n            <Text style={[styles.text]}>Height (cm)</Text>\r\n            <CustomInput placeholder={height_} value={height_} setValue={saveChanges}/>\r\n\r\n            <Text style={[styles.text]}>Weight (lb)</Text>\r\n            <CustomInput placeholder={weight_} value={weight_} setValue={saveChanges}/>\r\n\r\n            <Text style={[styles.text]}>Gender</Text>\r\n            <CustomInput placeholder={gender_} value={gender_} setValue={saveChanges}/>\r\n\r\n            <Text style={[styles.text]}>Number of exercises per day</Text>\r\n            <CustomInput placeholder={numEx} value={numEx} setValue={saveChanges}/>\r\n            \r\n            <CustomButton onPress={saveChanges} text=\"Save changes to profile\" />\r\n            <CustomButton onPress={GoToHomePage} text=\"Go To Homepage\" />\r\n            <CustomButton onPress={signOut} text=\"Sign Out\" bgColor=\"#E3242B\"/>\r\n\r\n        </View>\r\n        </ScrollView>\r\n    )\r\n\r\n};\r\n\r\n\r\nconst styles = StyleSheet.create({\r\n    root:{\r\n        alignItems: 'center',\r\n        padding:20,\r\n    },\r\n    title: {\r\n        fontSize:24,\r\n        fontWeight:'bold',\r\n        color:'#051C60',\r\n        margin:10,\r\n    },\r\n    text:{\r\n        fontSize:14,\r\n        color:'gray',\r\n        marginVertical:10,\r\n        fontWeight:'bold',\r\n    },\r\n})\r\n\r\nexport default UserProfileScreen;"]},"metadata":{},"sourceType":"module"}